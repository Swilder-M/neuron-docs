# Panasonic Mewtocol

Mewtocol 是 Panasonic（松下）公司为其 PLC 设备开发的一种通信协议。这种协议允许 PLC 与其他设备（如计算机、HMI 设备等）进行数据交换。

Neuron Mewtocol 插件用于通过以太网访问松下的 FP-XH、FP0H 系列 PLC。

## 添加插件

在 **配置 -> 南向设备**，点击**添加设备**来创建设备节点，输入插件名称，插件类型选择 **Neuron Mewtocol** 启用插件。

## 设备配置

点击插件卡片或插件列，进入**设备配置**页。配置 Neuron 与设备建立连接所需的参数，下表为插件相关配置项。

|  参数      | 说明                       |
| -------- | -------------------------- |
| **PLC IP 地址** |  目标设备 IPv4 地址         |
| **PLC 端口** | 目标设备端口号，默认为 2000 |
| **单元号** | 目标设备单元号，默认为 1 |
| **超时时间（毫秒）** | 目标设备读取超时时间，单位毫秒 |

## 设置组和点位

完成插件的添加和配置后，要建立设备与 Neuron 之间的通信，首先为南向驱动程序添加组和点位。

完成设备配置后，在**南向设备**页，点击设备卡片/设备列进入**组列表**页。点击**创建**来创建组，设定组名称以及采集间隔。完成组的创建后，点击组名称进入**点位列表**页，添加需要采集的设备点位，包括点位地址，点位属性，数据类型等。

公共配置项部分可参考[连接南向设备](../south-devices.md)，本页将介绍支持的数据类型和地址格式部分。

### 数据类型

* INT16
* UINT16
* INT32
* UINT32
* INT64
* UINT64
* FLOAT
* DOUBLE
* BIT
* STRING

### 地址格式

> AREA ADDRESS\[.BIT]\[.LEN\[H]\[L]]

#### .BIT

只可用于**非 bit 类型区域**，表示读取指定地址的指定二进制位，二进制位索引区间为[0, 15]。

#### .LEN\[H]\[L]

当数据类型是 string 类型时，**.LEN** 表示的是字符串长度；可以选填 **H**和 **L** 表示两种字节顺序，默认的是 **H** 的字节顺序。

#### 区域地址

| 区域 |数据类型 | 属性  | 备注                           |
| ---- | --------- | ---------- | -------------------------------- |
| X    | uint16、uint32、uint64、bit | 读/写 | 外部输入         |
| Y    | uint16、uint32、uint64、bit | 读/写 | 外部输出        |
| R    | uint16、uint32、uint64、bit | 读/写 | 内部继电器      |
| T    | uint16、uint32、uint64、bit | 读/写 | 定时器       |
| C    | uint16、uint32、uint64、bit | 读/写 | 计数器           |
| L    | uint16、uint32、uint64、bit | 读/写 | 链接继电器        |
| DT（D 区） | 所有类型 | 读/写（bit 类型只读） | 数据寄存器 DT   |
| LD（L 区） | 所有类型 | 读/写（bit 类型只读） | 链接寄存器 LD    |
| FL（F 区） | 所有类型   | 读/写（bit 类型只读） | 文件寄存器 FL     |
| S    | -- | -- | 目标值 SV     |
| K    | -- | -- | 经过值 EV     |
| IX    | 所有类型   | 读/写（bit 类型只读） | 索引寄存器 IX   |
| IY    | 所有类型   | 读/写（bit 类型只读） | 索引寄存器 IY  |
| ID    | 所有类型   | 读/写（bit 类型只读） | 索引寄存器 ID  |


### 地址示例

| 地址   | 数据类型 | 说明 |
| ----- | ------- | ----- |
| X0    | bit     | X 区域，地址为 0    |
| X1    | bit     | X 区域，地址为 1    |
| Y0    | bit     | Y 区域，地址为 0    |
| Y1    | bit     | Y 区域，地址为 1    |
| DT100 | int16   | D 区域，地址为 100  |
| DT1000 | uint16  | D 区域，地址为 1000 |
| DT200 | uint32  | D 区域，地址为 200  |
| DT10  | float   | D 区域，地址为 10   |
| DT20  | double  | D 区域，地址为 20   |
| DT20.0 | bit | D 区域，地址为 20，第 0 位|
| DT20.2 | bit | D 区域，地址为 20，第 2 位|
| DT1002.16L | string  | D 区域，地址为 1002，字符串长度为 16，字节顺序为 L |
| DT1003.16 | string  | D 区域，地址为 1003，字符串长度为 16，字节顺序为 H |

## 应用场景

您也可通过 Neuron Mewtocol 插件连接 FP-XH C30T，具体步骤，见 [FP-XH C30T  连接示例](./fp-xh-c30t.md)。

## 数据监控

完成点位的配置后，您可点击 **监控** -> **数据监控**查看设备信息以及反控设备，具体可参考[数据监控](../../../usage/monitoring.md)。
